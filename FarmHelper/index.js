villages = [{"target":"488|624", "ID":15563, "origin":"507|627", "launchID":14506, "increment":901920, "unit":"lc", "report":2800311}, {"target":"489|620", "ID":16877, "origin":"507|627", "launchID":14506, "increment":2142857, "unit":"lc", "report":2328969}, {"target":"489|626", "ID":15495, "origin":"507|627", "launchID":14506, "increment":948431, "unit":"lc", "report":2795734}, {"target":"489|631", "ID":17247, "origin":"507|627", "launchID":14506, "increment":1170449, "unit":"lc", "report":2795311}, {"target":"490|618", "ID":13616, "origin":"507|627", "launchID":14506, "increment":1021578, "unit":"lc", "report":2798993}, {"target":"490|635", "ID":17591, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2801215}, {"target":"490|637", "ID":19103, "origin":"507|627", "launchID":14506, "increment":545467, "unit":"lc", "report":2801764}, {"target":"491|624", "ID":14678, "origin":"507|627", "launchID":14506, "increment":948431, "unit":"lc", "report":2799729}, {"target":"491|625", "ID":15728, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2798412}, {"target":"491|627", "ID":15702, "origin":"507|627", "launchID":14506, "increment":1081659, "unit":"lc", "report":2777275}, {"target":"492|613", "ID":12368, "origin":"510|620", "launchID":14503, "increment":641152, "unit":"lc", "report":2788505}, {"target":"492|617", "ID":13364, "origin":"507|627", "launchID":14506, "increment":783252, "unit":"lc", "report":2802074}, {"target":"492|624", "ID":15798, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2802182}, {"target":"492|628", "ID":15517, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2773378}, {"target":"492|629", "ID":16522, "origin":"507|627", "launchID":14506, "increment":1175160, "unit":"lc", "report":2801480}, {"target":"492|634", "ID":17161, "origin":"507|627", "launchID":14506, "increment":901920, "unit":"lc", "report":2798706}, {"target":"492|640", "ID":19699, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2802848}, {"target":"493|610", "ID":11712, "origin":"510|620", "launchID":14503, "increment":1081659, "unit":"lc", "report":2794325}, {"target":"493|612", "ID":12132, "origin":"510|620", "launchID":14503, "increment":1175160, "unit":"lc", "report":2788498}, {"target":"493|617", "ID":13238, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2782337}, {"target":"493|630", "ID":16495, "origin":"507|627", "launchID":14506, "increment":1000000, "unit":"lc", "report":2802290}, {"target":"493|631", "ID":18105, "origin":"507|627", "launchID":14506, "increment":1175160, "unit":"lc", "report":2810035}, {"target":"494|612", "ID":12267, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2800555}, {"target":"494|626", "ID":15339, "origin":"507|627", "launchID":14506, "increment":769280, "unit":"lc", "report":2802431}, {"target":"494|629", "ID":17199, "origin":"507|627", "launchID":14506, "increment":1021578, "unit":"lc", "report":2798370}, {"target":"495|630", "ID":16899, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2799661}, {"target":"495|631", "ID":17789, "origin":"507|627", "launchID":14506, "increment":894763, "unit":"lc", "report":2802456}, {"target":"497|613", "ID":12481, "origin":"507|627", "launchID":14506, "increment":1711505, "unit":"lc", "report":2802878}, {"target":"497|614", "ID":12824, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2803563}, {"target":"497|623", "ID":14431, "origin":"507|627", "launchID":14506, "increment":751258, "unit":"lc", "report":2794577}, {"target":"498|606", "ID":11718, "origin":"510|620", "launchID":14503, "increment":1000000, "unit":"lc", "report":2797599}, {"target":"498|607", "ID":10898, "origin":"510|620", "launchID":14503, "increment":733590, "unit":"lc", "report":2793992}, {"target":"498|609", "ID":11257, "origin":"510|620", "launchID":14503, "increment":1269509, "unit":"lc", "report":2786887}, {"target":"498|612", "ID":13105, "origin":"507|627", "launchID":14506, "increment":665166, "unit":"lc", "report":2800229}, {"target":"498|617", "ID":13170, "origin":"507|627", "launchID":14506, "increment":901920, "unit":"lc", "report":2801772}, {"target":"498|627", "ID":15535, "origin":"507|627", "launchID":14506, "increment":1187538, "unit":"lc", "report":2799458}, {"target":"498|633", "ID":17633, "origin":"507|627", "launchID":14506, "increment":1032458, "unit":"lc", "report":2803296}, {"target":"498|641", "ID":19781, "origin":"507|627", "launchID":14506, "increment":894763, "unit":"lc", "report":2803148}, {"target":"498|643", "ID":20909, "origin":"507|627", "launchID":14506, "increment":2142857, "unit":"lc", "report":2794227}, {"target":"499|606", "ID":11765, "origin":"510|620", "launchID":14503, "increment":1187538, "unit":"lc", "report":2796115}, {"target":"499|618", "ID":13330, "origin":"507|627", "launchID":14506, "increment":901247, "unit":"lc", "report":2802948}, {"target":"499|633", "ID":17066, "origin":"507|627", "launchID":14506, "increment":733590, "unit":"lc", "report":2803503}, {"target":"499|642", "ID":19758, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2811414}, {"target":"500|607", "ID":11684, "origin":"510|620", "launchID":14503, "increment":723409, "unit":"lc", "report":2791096}, {"target":"500|610", "ID":12312, "origin":"507|627", "launchID":14506, "increment":1711505, "unit":"lc", "report":2793219}, {"target":"500|613", "ID":12142, "origin":"507|627", "launchID":14506, "increment":775433, "unit":"lc", "report":2800584}, {"target":"500|618", "ID":13300, "origin":"507|627", "launchID":14506, "increment":948431, "unit":"lc", "report":2791147}, {"target":"500|620", "ID":14360, "origin":"507|627", "launchID":14506, "increment":894763, "unit":"lc", "report":2803118}, {"target":"500|635", "ID":19158, "origin":"507|627", "launchID":14506, "increment":1269509, "unit":"lc", "report":2799924}, {"target":"500|637", "ID":16166, "origin":"507|627", "launchID":14506, "increment":1104581, "unit":"lc", "report":2803993}, {"target":"501|625", "ID":16003, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2796296}, {"target":"501|634", "ID":17262, "origin":"507|627", "launchID":14506, "increment":1269509, "unit":"lc", "report":2800360}, {"target":"501|635", "ID":18219, "origin":"507|627", "launchID":14506, "increment":1000000, "unit":"lc", "report":2798173}, {"target":"502|604", "ID":10223, "origin":"510|620", "launchID":14503, "increment":783252, "unit":"lc", "report":2800313}, {"target":"502|611", "ID":12898, "origin":"510|620", "launchID":14503, "increment":1269509, "unit":"lc", "report":2810602}, {"target":"502|615", "ID":13728, "origin":"510|620", "launchID":14503, "increment":1269509, "unit":"lc", "report":2803635}, {"target":"502|627", "ID":16167, "origin":"507|627", "launchID":14506, "increment":1175160, "unit":"lc", "report":2798227}, {"target":"502|628", "ID":16406, "origin":"507|627", "launchID":14506, "increment":689205, "unit":"lc", "report":2771885}, {"target":"502|646", "ID":20601, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2791785}, {"target":"503|628", "ID":16164, "origin":"507|627", "launchID":14506, "increment":901920, "unit":"lc", "report":2795126}, {"target":"503|636", "ID":17883, "origin":"507|627", "launchID":14506, "increment":948431, "unit":"lc", "report":2796907}, {"target":"503|637", "ID":19143, "origin":"507|627", "launchID":14506, "increment":616168, "unit":"lc", "report":2801237}, {"target":"503|642", "ID":20201, "origin":"507|627", "launchID":14506, "increment":813150, "unit":"lc", "report":2786216}, {"target":"503|643", "ID":20440, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2809652}, {"target":"504|607", "ID":11310, "origin":"510|620", "launchID":14503, "increment":1345180, "unit":"lc", "report":2809285}, {"target":"504|617", "ID":13194, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2803213}, {"target":"504|618", "ID":13703, "origin":"507|627", "launchID":14506, "increment":1269509, "unit":"lc", "report":2796297}, {"target":"504|636", "ID":18194, "origin":"507|627", "launchID":14506, "increment":839509, "unit":"lc", "report":2801767}, {"target":"504|640", "ID":19352, "origin":"507|627", "launchID":14506, "increment":802861, "unit":"lc", "report":2799199}, {"target":"504|646", "ID":20423, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2803085}, {"target":"505|602", "ID":10611, "origin":"510|620", "launchID":14503, "increment":701065, "unit":"lc", "report":2807160}, {"target":"505|605", "ID":10781, "origin":"510|620", "launchID":14503, "increment":815421, "unit":"lc", "report":2814678}, {"target":"505|633", "ID":18521, "origin":"507|627", "launchID":14506, "increment":892029, "unit":"lc", "report":2798374}, {"target":"506|609", "ID":11437, "origin":"510|620", "launchID":14503, "increment":1919241, "unit":"lc", "report":2798382}, {"target":"506|612", "ID":13296, "origin":"510|620", "launchID":14503, "increment":721775, "unit":"lc", "report":2796862}, {"target":"506|618", "ID":13260, "origin":"507|627", "launchID":14506, "increment":894763, "unit":"lc", "report":2793673}, {"target":"506|620", "ID":14422, "origin":"507|627", "launchID":14506, "increment":1104581, "unit":"lc", "report":2804978}, {"target":"506|639", "ID":18825, "origin":"507|627", "launchID":14506, "increment":1175160, "unit":"lc", "report":2801046}, {"target":"506|646", "ID":21056, "origin":"507|627", "launchID":14506, "increment":1187538, "unit":"lc", "report":2789426}, {"target":"507|603", "ID":10872, "origin":"510|620", "launchID":14503, "increment":853252, "unit":"lc", "report":2802248}, {"target":"507|612", "ID":12928, "origin":"510|620", "launchID":14503, "increment":901920, "unit":"lc", "report":2798683}, {"target":"507|621", "ID":14061, "origin":"507|627", "launchID":14506, "increment":815421, "unit":"lc", "report":2791385}, {"target":"507|623", "ID":14382, "origin":"507|627", "launchID":14506, "increment":802861, "unit":"lc", "report":2795595}, {"target":"507|628", "ID":16045, "origin":"507|627", "launchID":14506, "increment":733590, "unit":"lc", "report":2782476}, {"target":"507|632", "ID":17258, "origin":"507|627", "launchID":14506, "increment":1250000, "unit":"lc", "report":2793183}, {"target":"507|633", "ID":17932, "origin":"507|627", "launchID":14506, "increment":764066, "unit":"lc", "report":2803585}, {"target":"507|634", "ID":17572, "origin":"507|627", "launchID":14506, "increment":751258, "unit":"lc", "report":-1}, {"target":"508|612", "ID":12109, "origin":"510|620", "launchID":14503, "increment":2142857, "unit":"lc", "report":2811694}, {"target":"508|619", "ID":14883, "origin":"510|620", "launchID":14503, "increment":1104581, "unit":"sp/sw", "report":2797224}, {"target":"508|640", "ID":20365, "origin":"507|627", "launchID":14506, "increment":948431, "unit":"lc", "report":2803613}, {"target":"508|646", "ID":21315, "origin":"507|627", "launchID":14506, "increment":1000000, "unit":"lc", "report":2789427}, {"target":"509|607", "ID":11643, "origin":"510|620", "launchID":14503, "increment":959582, "unit":"lc", "report":2803735}, {"target":"509|620", "ID":14923, "origin":"510|620", "launchID":14503, "increment":1363636, "unit":"sp/sw", "report":2718183}, {"target":"509|636", "ID":18661, "origin":"507|627", "launchID":14506, "increment":751258, "unit":"lc", "report":2802907}, {"target":"509|638", "ID":20106, "origin":"507|627", "launchID":14506, "increment":802861, "unit":"lc", "report":2799636}, {"target":"509|639", "ID":19124, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2801387}, {"target":"510|604", "ID":10921, "origin":"510|620", "launchID":14503, "increment":948431, "unit":"lc", "report":2815328}, {"target":"510|613", "ID":12344, "origin":"510|620", "launchID":14503, "increment":1269509, "unit":"lc", "report":2779589}, {"target":"510|626", "ID":16579, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2786863}, {"target":"510|631", "ID":16550, "origin":"507|627", "launchID":14506, "increment":832477, "unit":"lc", "report":2794930}, {"target":"510|641", "ID":20759, "origin":"507|627", "launchID":14506, "increment":0, "unit":"lc", "report":2798494}, {"target":"510|642", "ID":19752, "origin":"507|627", "launchID":14506, "increment":1104581, "unit":"lc", "report":2782381}, {"target":"511|606", "ID":11808, "origin":"510|620", "launchID":14503, "increment":849678, "unit":"lc", "report":2808226}, {"target":"511|619", "ID":13658, "origin":"512|621", "launchID":14507, "increment":901920, "unit":"sp/sw", "report":2798278}, {"target":"511|625", "ID":16232, "origin":"507|627", "launchID":14506, "increment":1021578, "unit":"lc", "report":2809790}, {"target":"512|603", "ID":11211, "origin":"510|620", "launchID":14503, "increment":959582, "unit":"lc", "report":2804231}, {"target":"512|606", "ID":11842, "origin":"510|620", "launchID":14503, "increment":1269509, "unit":"lc", "report":2808639}, {"target":"512|612", "ID":12339, "origin":"512|621", "launchID":14507, "increment":990038, "unit":"sp/sw", "report":2800783}, {"target":"512|635", "ID":17845, "origin":"507|627", "launchID":14506, "increment":1000000, "unit":"lc", "report":2789432}, {"target":"512|639", "ID":20132, "origin":"507|627", "launchID":14506, "increment":1000000, "unit":"lc", "report":2803475}, {"target":"512|640", "ID":20794, "origin":"507|627", "launchID":14506, "increment":850766, "unit":"lc", "report":2799280}, {"target":"512|641", "ID":20520, "origin":"507|627", "launchID":14506, "increment":959582, "unit":"lc", "report":2798404}, {"target":"513|604", "ID":10573, "origin":"510|620", "launchID":14503, "increment":701065, "unit":"lc", "report":2801233}, {"target":"513|605", "ID":11197, "origin":"510|620", "launchID":14503, "increment":1269509, "unit":"lc", "report":2812801}, {"target":"513|609", "ID":11502, "origin":"510|620", "launchID":14503, "increment":1919241, "unit":"lc", "report":2795854}, {"target":"513|620", "ID":14033, "origin":"512|621", "launchID":14507, "increment":1363636, "unit":"sp/sw", "report":2792598}, {"target":"513|621", "ID":15061, "origin":"512|621", "launchID":14507, "increment":948431, "unit":"sp/sw", "report":2783564}, {"target":"513|643", "ID":20060, "origin":"507|627", "launchID":14506, "increment":1081659, "unit":"lc", "report":2800823}, {"target":"514|625", "ID":15524, "origin":"507|627", "launchID":14506, "increment":645900, "unit":"lc", "report":2800780}, {"target":"514|628", "ID":16143, "origin":"507|627", "launchID":14506, "increment":769280, "unit":"lc", "report":2800484}, {"target":"514|635", "ID":19457, "origin":"507|627", "launchID":14506, "increment":1175160, "unit":"lc", "report":2797744}, {"target":"515|610", "ID":12453, "origin":"510|620", "launchID":14503, "increment":1175160, "unit":"lc", "report":2802207}, {"target":"515|625", "ID":15168, "origin":"507|627", "launchID":14506, "increment":681245, "unit":"lc", "report":2802801}, {"target":"515|626", "ID":16383, "origin":"507|627", "launchID":14506, "increment":815421, "unit":"lc", "report":2798570}, {"target":"516|610", "ID":11923, "origin":"510|620", "launchID":14503, "increment":894763, "unit":"lc", "report":2804055}, {"target":"516|614", "ID":12784, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":3135366}, {"target":"516|617", "ID":13751, "origin":"512|621", "launchID":14507, "increment":901920, "unit":"sp/sw", "report":2802071}, {"target":"516|618", "ID":14132, "origin":"512|621", "launchID":14507, "increment":1269509, "unit":"sp/sw", "report":2794271}, {"target":"516|622", "ID":15520, "origin":"512|621", "launchID":14507, "increment":1175160, "unit":"sp/sw", "report":2802249}, {"target":"516|626", "ID":15774, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2803856}, {"target":"516|631", "ID":18286, "origin":"507|627", "launchID":14506, "increment":1081659, "unit":"lc", "report":2800378}, {"target":"516|636", "ID":18213, "origin":"507|627", "launchID":14506, "increment":1175160, "unit":"lc", "report":2794733}, {"target":"517|603", "ID":10503, "origin":"510|620", "launchID":14503, "increment":1175160, "unit":"lc", "report":2810458}, {"target":"517|606", "ID":11823, "origin":"510|620", "launchID":14503, "increment":617586, "unit":"lc", "report":2814105}, {"target":"517|617", "ID":14646, "origin":"512|621", "launchID":14507, "increment":768790, "unit":"sp/sw", "report":2802163}, {"target":"517|629", "ID":16552, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2798725}, {"target":"517|631", "ID":17933, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2800973}, {"target":"517|637", "ID":19060, "origin":"507|627", "launchID":14506, "increment":894763, "unit":"lc", "report":2797844}, {"target":"518|611", "ID":12979, "origin":"510|620", "launchID":14503, "increment":1175160, "unit":"lc", "report":2798373}, {"target":"518|619", "ID":14067, "origin":"510|620", "launchID":14503, "increment":1269509, "unit":"lc", "report":2803248}, {"target":"518|622", "ID":14998, "origin":"507|627", "launchID":14506, "increment":1175160, "unit":"lc", "report":2801045}, {"target":"518|623", "ID":16249, "origin":"507|627", "launchID":14506, "increment":1081659, "unit":"lc", "report":2814444}, {"target":"518|627", "ID":16241, "origin":"507|627", "launchID":14506, "increment":661352, "unit":"lc", "report":2803624}, {"target":"518|631", "ID":17543, "origin":"507|627", "launchID":14506, "increment":894763, "unit":"lc", "report":2798619}, {"target":"518|641", "ID":21179, "origin":"507|627", "launchID":14506, "increment":1919241, "unit":"lc", "report":2784550}, {"target":"519|603", "ID":10551, "origin":"510|620", "launchID":14503, "increment":859758, "unit":"lc", "report":2813466}, {"target":"519|608", "ID":11794, "origin":"510|620", "launchID":14503, "increment":1919241, "unit":"lc", "report":2811663}, {"target":"519|619", "ID":14549, "origin":"507|627", "launchID":14506, "increment":1269509, "unit":"lc", "report":2799759}, {"target":"519|622", "ID":14482, "origin":"507|627", "launchID":14506, "increment":775433, "unit":"lc", "report":2798961}, {"target":"519|634", "ID":18196, "origin":"507|627", "launchID":14506, "increment":1269509, "unit":"lc", "report":2807626}, {"target":"520|611", "ID":12259, "origin":"510|620", "launchID":14503, "increment":764066, "unit":"lc", "report":2805319}, {"target":"520|615", "ID":13316, "origin":"510|620", "launchID":14503, "increment":1269509, "unit":"lc", "report":2802218}, {"target":"520|620", "ID":15736, "origin":"507|627", "launchID":14506, "increment":901920, "unit":"lc", "report":2810745}, {"target":"520|622", "ID":14993, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2807737}, {"target":"520|634", "ID":19196, "origin":"507|627", "launchID":14506, "increment":1269509, "unit":"lc", "report":2802736}, {"target":"521|605", "ID":11698, "origin":"510|620", "launchID":14503, "increment":853252, "unit":"lc", "report":2810715}, {"target":"521|612", "ID":12322, "origin":"510|620", "launchID":14503, "increment":1175160, "unit":"lc", "report":2806700}, {"target":"521|613", "ID":13334, "origin":"510|620", "launchID":14503, "increment":809566, "unit":"lc", "report":2802427}, {"target":"521|615", "ID":13377, "origin":"510|620", "launchID":14503, "increment":948431, "unit":"lc", "report":2801055}, {"target":"521|626", "ID":16212, "origin":"507|627", "launchID":14506, "increment":802861, "unit":"lc", "report":2797414}, {"target":"521|628", "ID":17318, "origin":"507|627", "launchID":14506, "increment":1104581, "unit":"lc", "report":2797398}, {"target":"521|630", "ID":17401, "origin":"507|627", "launchID":14506, "increment":1476339, "unit":"lc", "report":2775568}, {"target":"521|635", "ID":18058, "origin":"507|627", "launchID":14506, "increment":1000000, "unit":"lc", "report":2815713}, {"target":"522|637", "ID":18960, "origin":"507|627", "launchID":14506, "increment":1175160, "unit":"lc", "report":2785479}, {"target":"522|640", "ID":19230, "origin":"507|627", "launchID":14506, "increment":1175160, "unit":"lc", "report":2803265}, {"target":"523|605", "ID":12069, "origin":"510|620", "launchID":14503, "increment":1081659, "unit":"lc", "report":2814827}, {"target":"523|617", "ID":14449, "origin":"507|627", "launchID":14506, "increment":1269509, "unit":"lc", "report":2803552}, {"target":"523|625", "ID":15835, "origin":"507|627", "launchID":14506, "increment":1363636, "unit":"lc", "report":2799186}, {"target":"523|627", "ID":16245, "origin":"507|627", "launchID":14506, "increment":853252, "unit":"lc", "report":2800011}, {"target":"523|637", "ID":18904, "origin":"507|627", "launchID":14506, "increment":1919241, "unit":"lc", "report":2788798}, {"target":"524|613", "ID":13976, "origin":"510|620", "launchID":14503, "increment":948431, "unit":"lc", "report":2814103}, {"target":"524|614", "ID":13142, "origin":"510|620", "launchID":14503, "increment":894763, "unit":"lc", "report":2812582}, {"target":"524|615", "ID":13645, "origin":"510|620", "launchID":14503, "increment":721343, "unit":"lc", "report":2811217}, {"target":"524|623", "ID":16030, "origin":"507|627", "launchID":14506, "increment":894763, "unit":"lc", "report":2802432}, {"target":"524|626", "ID":17319, "origin":"507|627", "launchID":14506, "increment":783252, "unit":"lc", "report":2800606}, {"target":"524|627", "ID":16059, "origin":"507|627", "launchID":14506, "increment":773379, "unit":"lc", "report":2804011}]

function displayDate(date) {
    display = new Date(date.getTime())
    display.setHours(display.getHours() + 1)

    return display.toUTCString().slice(0, -3);
}

function initialize() {
    for (let i = 0; i < villages.length; i++) {
        date = new Date();
        date_ms = date.getTime();
        launch = new Date(date_ms); villages[i].launch = launch;
    }

    sortVillages();
    displayVillages();

    document.getElementById("increment").addEventListener("click", addLaunchToAll);
}

function addLaunchToAll() {
    console.log("hi")
    for (let i = 0; i < villages.length; i++) {
        date_ms = villages[i].launch.getTime()
        villages[i].launch = new Date(date_ms + villages[i].increment);

        timeStr = document.getElementById(villages[i].ID + "d")
        timeStr.innerHTML = displayDate(villages[i].launch);
        reorder(villages[i].ID);
    }
}

function sortVillages() {
    villages = villages.sort((v1, v2) => (v1.launch > v2.launch) ? 1 : (v1.launch < v2.launch) ? -1 : 0);
}

function displayVillages() {
    wrapper = document.getElementById("villageList");

    for (let i = 0; i < villages.length; i++) {
        div = document.createElement("div");
        div.id = villages[i].ID;
        div.className = "village"

        launchFrom = document.createElement("a");
        launchFrom.setAttribute("href", "https://en129.tribalwars.net/game.php?village=" + villages[i].launchID + "&screen=overview");
        launchFrom.setAttribute("target", "_blank");

        launchTo = document.createElement("a");
        launchTo.setAttribute("href", "https://en129.tribalwars.net/game.php?village=" + villages[i].launchID + "&screen=info_village&id=" + villages[i].ID);
        launchTo.setAttribute("target", "_blank");

        launchTime = document.createElement("span");

        launchButton = document.createElement("a");
        launchButton.className = "button";
        launchButton.id = villages[i].ID + "b";

        launchFrom.innerHTML = villages[i].origin;
        launchTo.innerHTML = villages[i].target;

        launchButton.innerHTML = "SEND";

        if (villages[i].report > 0) {
            link = "https://en129.tribalwars.net/game.php?village=" + villages[i].launchID + "&screen=place&try=confirm&type=same&report_id=" + villages[i].report;
        } else {
            link = villages[i].unit == "lc" ? "https://en129.tribalwars.net/game.php?village=" + villages[i].launchID + "&screen=place&target=" + villages[i].ID + "&light=1" : "https://en129.tribalwars.net/game.php?village=" + villages[i].launchID + "&screen=place&target=" + villages[i].ID + "&spear=2&sword=2";
        }
        console.log(link);

        launchButton.setAttribute("href", link);
        launchButton.setAttribute("target", "_blank");

        launchTime.innerHTML = displayDate(villages[i].launch);
        launchTime.id = villages[i].ID + "d"

        div.appendChild(launchFrom);
        div.appendChild(launchTo);
        div.appendChild(launchTime);
        div.appendChild(launchButton);

        wrapper.appendChild(div);
    }
}

function addButtonClick() {
    btns = document.querySelectorAll(".button");
    for (let i = 0; i < btns.length; i++) {
        btns[i].addEventListener("click", sendFarm);
    }
}

function buttonState() {

    current = new Date()
    console.log(current)
    for (let i = 0; i < villages.length; i++) {
        btn = document.getElementById(villages[i].ID + "b");
        div = document.getElementById(villages[i].ID)
        launch = villages[i].launch;
        // console.log(current,launch)
        if (launch > current) {
            // div.style.display = "none";
            div.style.opacity = 0.2;
        } else {
            div.style.opacity = 1;
        }
    }
}

function setIntervals() {
    btnState = setInterval(buttonState, 500);
}

function sendFarm() {
    id = this.id.slice(0, -1);
    timeDiv = document.getElementById(id + "d");
    btnDiv = document.getElementById(id + "b");

    for (let i = 0; i < villages.length; i++) {
        if (villages[i].ID == id) {
            ms = villages[i].launch.getTime();
            ms += villages[i].increment;

            villages[i].launch = new Date(ms);

            timeDiv.innerHTML = displayDate(villages[i].launch);

            reorder(id);
        }
    }
}

function reorder(id) {
    divs = document.querySelectorAll(".village");

    for (let i = 0; i < villages.length; i++) {
        if (villages[i].ID == id) {
            launch = villages[i].launch;
        }
    }

    done = false;
    for (let i = 0; i < divs.length; i++) {
        divID = divs[i].id;
        for (let j = 0; j < villages.length; j++) {
            if (villages[j].ID == divID) {
                launchCheck = villages[j].launch;
                if (launch < launchCheck && done == false) {
                    done = true;
                    document.getElementById("villageList").insertBefore(document.getElementById(id), document.getElementById(divID));
                }
                break;
            }
        }
    }
}